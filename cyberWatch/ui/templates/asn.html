{% extends "base.html" %}
{% block content %}
<section>
  <h2>ASN Explorer</h2>
  <form id="asn-form">
    <input type="number" id="asn" name="asn" placeholder="13335" required>
    <button type="submit">Lookup</button>
  </form>
  <pre id="asn-result"></pre>
</section>
<script>
  const apiBase = "{{ api_base }}";
  const form = document.getElementById('asn-form');
  const out = document.getElementById('asn-result');
  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    const asn = document.getElementById('asn').value;
    out.textContent = 'Fetching...';
    const res = await fetch(`${apiBase}/asn/${asn}`);
    const data = await res.json();
    out.textContent = JSON.stringify(data, null, 2);
  });
</script>
{% endblock %}
